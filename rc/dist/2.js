(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,,,,,,,,,,,,function(t,s,e){var i,a;i=[e(15),e(21),e(22),e(23),e(24)],void 0===(a=function(t,s,e,i,a){return{defaultStyle:"empty",styleOptions:["Empty","4 on the Floor","Son Clave","Tresillo"],styleButtonColors:["#F9C909","#F35844","#189AA8","#311010","#69B8D2"],backgroundColor:"#ffffff",font:"Playfair Display",stylesDropdown:{bottom:.1,left:.4,width:.1},rpmSlider:{bottom:.1,left:.6,width:.2},handConfig:{defaultRpm:30,color:"#ffffff",baseWidth:.005},beatsConfig:{nullBeat:{radius:.025,color:"#5D5F8D",strokeColor:"",strokeWeight:10},types:{type1:{radius:.03,swellRadius:.04,src:"./assets/bass_sample.mp3",color:"#32e5b2"},type2:{radius:.04,swellRadius:.045,src:"./assets/clap_sample.mp3",color:"#ff7373"},type3:{radius:.05,swellRadius:.06,src:"./assets/hh_sample.mp3",color:"#4f4ad6"},djembe_bass:{radius:.03,swellRadius:.04,src:"./assets/djembe_bass.wav",color:"#157539"},djembe_tone:{radius:.04,swellRadius:.045,src:"./assets/djembe_tone.wav",color:"#ffad17"},djembe_slap:{radius:.05,swellRadius:.055,src:"./assets/djembe_slap.wav",color:"#ff6900"},conga_right:{radius:.04,swellRadius:.045,src:"./assets/conga_right.wav",color:"#8b0304"},conga_left:{radius:.05,swellRadius:.055,src:"./assets/conga_left.wav",color:"#c9c4af"}}},getStyleConfig:t=>{switch(t){case"empty":return s;case"4_on_the_floor":return e;case"tresillo":return i;case"son_clave":return a;default:return s}}}}.apply(s,i))||(t.exports=a)},function(t,s,e){(function(i){var a,o;a=[e(18),e(25),e(15),e(17),e(26)],void 0===(o=function(t,s,e,a,o){return class{constructor(t,s){this.sk=t,this.soundManager=new o(t),this.wheels=[],this.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.rpmSlider=null,this.lastPressedObj=null,this.createWheels(s),this.createHand(),this.draw=this.update}showOverlay(){this.hand.stop(),i(".overlay").addClass("is-open")}showLoadingButton(){i(".overlay-button").off(),i(".overlay-button").addClass("is-open"),i(".overlay-button").text("Loading...")}showStartButton(){i(".overlay-button").text("Start");let t=this;i(".overlay-button").on("click",function(){i(".overlay-button").removeClass("is-open"),i(".overlay").removeClass("is-open"),t.hand.start(),t.draw=t.update,t.sk.loop()})}createHand(){const t=this.width/2,e=this.height/2,i=this.wheels[this.wheels.length-1].radius;this.hand=new s(this.sk,t,e,i,this.wheels)}createWheels(s){this.wheels.length=0;const i=this.width/2,a=this.height/2;let o=e.getStyleConfig(s);for(var r=0;r<o.wheels.length;r++){const s=o.wheels[r];let e=new t(this.sk,i,a,s,this.soundManager);this.wheels.push(e)}}preload(){this.soundManager.preload(),this.showOverlay(),this.showLoadingButton(),this.wheels.forEach(t=>{t.preload()})}update(){for(var t=this.wheels.length-1;t>-1;t--)this.wheels[t].draw();this.hand&&this.hand.draw(this.rpmSlider.value())}setSlider(){this.rpmSlider=this.sk.select("#rs-range-line")}clear(){this.sk.background(e.backgroundColor)}setSelect(){this.sel=this.sk.select("#dropdown"),i("#styles-button").on("click",()=>{this.draw=this.clear,this.sk.noLoop(),this.showOverlay(),this.showStylesMenu()}),i("#info-button").on("click",()=>{this.draw=this.clear,this.sk.noLoop(),this.showOverlay(),this.showInfo()})}createCloseButton(){let t=i('<a href="#" class="close-button"></a>');return t.on("click",()=>{i(".styles-menu").remove(),i(".info").remove(),i(".overlay").removeClass("is-open"),this.hand.continue(),this.draw=this.update,this.sk.loop()}),t}showStylesMenu(){let t=document.createElement("div");i(t).addClass("styles-menu"),i(".overlay").append(t);var s=0;e.styleOptions.forEach(a=>{let o=document.createElement("button");o.innerHTML=a;let r=a.toLowerCase().replace(/ /g,"_");o.setAttribute("id","button-"+r),i(o).addClass("menu-button"),i(o).css("background-color",e.styleButtonColors[s++]),i(o).css("height",50/e.styleOptions.length+"vh");let n=this;i(o).on("click",()=>{i(".overlay").removeClass("is-open"),t.remove(),n.reset(r)}),i(t).append(o)});let a=this.createCloseButton();i(t).append(a)}showInfo(){let t=i('<div class="info"></div'),s=i('<p class="description-text">\t\t\t\tRotate the wheels and flip on the beats to create your own rhythm. <br>\t\t\t\tSpeed things up or slow them down by sliding the RPM (revolutions per minute) \t\t\t\tslider on the bottom. <br>\t\t\t\tYou can work off an empty template, or use an existing \t\t\t\trhythm by clicking the Djembe icon.</p>'),a=i('<div class="legend"></div');Object.keys(e.beatsConfig.types).forEach((t,s)=>{let o=t.split("_").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" "),r=i(`\n\t\t\t\t\t<div class="legend-element">\n\t\t\t\t\t\t<div class="legend-icon" style="background-color: ${e.beatsConfig.types[t].color}"></div>\n\t\t\t\t\t\t<p class="legend-text">${o}</p>\n\t\t\t\t\t</div>`);a.append(r)});let o=this.createCloseButton();t.append(s),t.append(a),t.append(o),i(".overlay").append(t)}setup(){this.setSlider(),this.setSelect(),this.soundManager.setup(),this.wheels.forEach(t=>{t.setup()}),this.showStartButton()}reset(t){this.showOverlay(),this.showLoadingButton(),this.createWheels(t),this.preload(),this.wheels.forEach(t=>{t.setup()}),setTimeout(()=>{this.showStartButton()},4e3)}getStyleChangedListener(){let t=this;return()=>{let s=this.sel.value().toLowerCase().replace(/ /g,"_");t.reset(s)}}getIntersectObj(t,s){for(var e=0;e<this.wheels.length;e++){let i=this.wheels[e].getIntersectObj(t,s);if(null!=i)return i}return null}mousePressed(){this.lastPressedObj=this.getIntersectObj(this.sk.mouseX,this.sk.mouseY),null!=this.lastPressedObj&&this.lastPressedObj.mousePressed(this.sk.mouseX,this.sk.mouseY)}mouseReleased(){this.lastPressedObj&&(this.lastPressedObj.mouseReleased(this.sk.mouseX,this.sk.mouseY),this.lastPressedObj=null)}mouseDragged(){this.lastPressedObj&&this.lastPressedObj.mouseDragged(this.sk.mouseX,this.sk.mouseY)}}}.apply(s,a))||(t.exports=o)}).call(this,e(1))},function(t,s,e){var i;void 0===(i=function(){let t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{width:t,height:s,getWidth:s=>s*t,getHeight:t=>t*s}}.apply(s,[]))||(t.exports=i)},function(t,s,e){var i,a;i=[e(19),e(17)],void 0===(a=function(t,s){return class{constructor(t,e,i,{radius:a,color:o,defaultBase:r=null,defaultBeatTypes:n=null},l){this.sk=t,this.soundManager=l,this.radius=s.getHeight(a),this.beats=this.createBeats({base:r,types:n}),this.x=e,this.y=i,this.strokeColor=o,this.fillColor=o,this.dragOriginX=null,this.dragOriginY=null}createBeats({base:t=null,types:s=null}){return s?this.createPreconfiguredBeats(s):this.createDefaultBeats(t)}createDefaultBeats(s){let e=[];for(var i=0;i<s;i++){const a=2*i*Math.PI/s;let o=new t(this.sk,a,this.soundManager);e.push(o)}return e}createPreconfiguredBeats(s){let e=[];for(var i=0;i<s.length;i++){const a=2*i*Math.PI/s.length;let o=new t(this.sk,a,this.soundManager,s[i]);e.push(o)}return e}getBeatCenter(t){return{x:this.x+this.radius*Math.sin(t.radians),y:this.y-this.radius*Math.cos(t.radians)}}draw(){this.sk.noStroke(),this.sk.fill("#ffffff"),this.sk.circle(this.x,this.y,2*this.radius);let t=this.sk.color(this.fillColor);this.sk.fill(t),this.sk.circle(this.x,this.y,2*this.radius);for(var s=0;s<this.beats.length;s++){let t=this.beats[s];const{x:e,y:i}=this.getBeatCenter(t);t.draw(e,i)}}getIntersectObj(t,s){for(var e=0;e<this.beats.length;e++){let i=this.beats[e];if(i.x&&i.y&&this.sk.dist(t,s,i.x,i.y)<=i.currType.radius)return i}return this.sk.dist(t,s,this.x,this.y)<=this.radius?this:null}preload(){this.beats.forEach(t=>{t.preload()})}setup(){this.beats.forEach(t=>{t.setup()})}mousePressed(t,s){this.dragOriginX=t,this.dragOriginY=s}mouseReleased(t,s){this.dragOriginX=null,this.dragOriginY=null}mouseDragged(t,s){const e=this.sk.dist(this.dragOriginX,this.dragOriginY,this.x,this.y),i=this.sk.dist(t,s,this.x,this.y),a=this.sk.dist(this.dragOriginX,this.dragOriginY,t,s);var o=Math.acos((Math.pow(e,2)+Math.pow(i,2)-Math.pow(a,2))/(2*e*i));this.isClockWiseMove(t,s)||(o*=-1),this.beats.forEach(t=>{t.addRadians(o)}),this.dragOriginX=t,this.dragOriginY=s}isClockWiseMove(t,s){let e=[this.dragOriginX-this.x,this.dragOriginY-this.y],i=[t-this.x,s-this.y];return!(e[0]*i[1]<e[1]*i[0])}}}.apply(s,i))||(t.exports=a)},function(t,s,e){var i,a;i=[e(20)],void 0===(a=function(t){return class{constructor(t,s,e,i=null){this.sk=t,this.radians=s,this.defaultType=i,this.enabled=!0,this.maxSwellFrames=20,this.swellFrames=this.maxSwellFrames,this.typeIndex=-1,this.currType=null,this.currSound=null,this.sounds=null,this.soundManager=e}incrementTypeIndex(){this.typeIndex=(this.typeIndex+1)%t.length}preload(){}loadSounds(){this.sounds=[];for(var s=0;s<t.length;s++)if(""!=t[s].src){let e=this.sk.loadSound(t[s].src);this.sounds.push(e),this.setSoundOnEndedCallback(e,this)}else this.sounds.push(null)}setup(){this.defaultType?this.typeIndex=t.findIndex(t=>t.name==this.defaultType):this.typeIndex=0,this.currType=t[this.typeIndex],this.currSound=this.soundManager.getSoundByName(this.defaultType)}addRadians(t){this.radians+=t,this.radians>2*Math.PI?this.radians=0:this.radians<0&&(this.radians+=2*Math.PI)}nextType(){this.incrementTypeIndex(),this.currType=t[this.typeIndex],this.enabled=!0,this.currSound=this.soundManager.getNextSound(this.currType.name)}draw(t,s){this.x=t,this.y=s,this.swellFrames<this.maxSwellFrames&&(this.swellFrames=Math.min(++this.swellFrames,this.maxSwellFrames),this.swellUpdate(t,s)),this.currType.strokeColor?(this.sk.noFill(),this.sk.stroke(this.currType.strokeColor),this.sk.strokeWeight(this.currType.strokeWeight)):(this.sk.noStroke(),this.sk.fill(this.currType.color)),this.sk.circle(t,s,this.currType.radius)}swellUpdate(t,s){const e=this.swellFrames/this.maxSwellFrames,i=this.currType.radius+Math.sin(Math.PI*e)*(this.currType.swellRadius-this.currType.radius);this.currType.strokeColor?(this.sk.noFill(),this.sk.stroke(this.currType.strokeColor),this.sk.strokeWeight(this.currType.strokeWeight)):(this.sk.noStroke(),this.sk.fill(this.currType.color)),this.sk.circle(t,s,i)}play(){if(this.enabled&&"nullBeat"!=this.currType.name)try{this.swellFrames=0,this.currSound.play()}catch(t){console.log(t)}}mousePressed(t,s){this.nextType(),this.play()}mouseReleased(t,s){}mouseDragged(t,s){}disable(){this.enabled=!1}enable(){this.enabled=!0}}}.apply(s,i))||(t.exports=a)},function(t,s,e){var i,a;i=[e(15),e(17)],void 0===(a=function(t,s){class e{constructor(t,e,i,a,o=null,r=null,n=null){this.name=t,this.src=e,this.color=i,this.radius=s.getHeight(a),this.swellRadius=s.getHeight(o),this.strokeColor=r,this.strokeWeight=n}}let i=[];return i.push(new e("nullBeat","",t.beatsConfig.nullBeat.color,t.beatsConfig.nullBeat.radius,null,t.beatsConfig.nullBeat.strokeColor,t.beatsConfig.nullBeat.strokeWeight)),Object.keys(t.beatsConfig.types).forEach((s,a)=>{i.push(new e(s,t.beatsConfig.types[s].src,t.beatsConfig.types[s].color,t.beatsConfig.types[s].radius,t.beatsConfig.types[s].swellRadius))}),i}.apply(s,i))||(t.exports=a)},function(t,s,e){var i;void 0===(i=function(){return{wheels:[{radius:.1,color:"#F9C909",defaultBase:4},{radius:.18,color:"#F35844",defaultBase:3},{radius:.25,color:"#189AA8",defaultBase:4}]}}.apply(s,[]))||(t.exports=i)},function(t,s,e){var i;void 0===(i=function(){return{wheels:[{radius:.1,color:"#F9C909",defaultBeatTypes:["type1","type2"]},{radius:.18,color:"#F35844",defaultBeatTypes:["nullBeat","type3","nullBeat","type3"]},{radius:.25,color:"#189AA8",defaultBase:8}]}}.apply(s,[]))||(t.exports=i)},function(t,s,e){var i;void 0===(i=function(){return{wheels:[{radius:.1,color:"#F9C909",defaultBeatTypes:["djembe_bass","nullBeat","nullBeat","djembe_bass","nullBeat","nullBeat","nullBeat","nullBeat"]},{radius:.18,color:"#F35844",defaultBeatTypes:["nullBeat","djembe_tone","djembe_tone","nullBeat","djembe_tone","djembe_tone","djembe_slap","djembe_tone"]},{radius:.25,color:"#189AA8",defaultBase:16}]}}.apply(s,[]))||(t.exports=i)},function(t,s,e){var i;void 0===(i=function(){return{wheels:[{radius:.1,color:"#F9C909",defaultBase:4},{radius:.18,color:"#F35844",defaultBeatTypes:["conga_right","conga_right","conga_right","conga_right"]},{radius:.25,color:"#189AA8",defaultBeatTypes:["nullBeat","nullBeat","nullBeat","conga_left","nullBeat","nullBeat","conga_left","nullBeat","nullBeat","nullBeat","conga_left","nullBeat","conga_left","nullBeat","nullBeat","nullBeat"]}]}}.apply(s,[]))||(t.exports=i)},function(t,s,e){var i,a;const o=60;i=[e(15),e(17)],void 0===(a=function(t,s){return class{constructor(e,i,a,o,r){this.sk=e,this.color=t.handConfig.color,this.baseWidth=s.getHeight(t.handConfig.baseWidth),this.x=i,this.y=a,this.length=o,this.wheels=r,this.stop()}position(t){const{top:s,left:e}=this.container.position();this.handElem.css({top:s+this.container.height()/2,left:e+this.container.width()/2})}update(t){const s=t/o,e=this.sk.frameRate(),i=2*s*Math.PI/e;if(i>10)return;const a=this.x-Math.cos(this.rotation)*this.baseWidth/2,r=this.y-Math.sin(this.rotation)*this.baseWidth/2,n=this.x+Math.cos(this.rotation)*this.baseWidth/2,l=this.y+Math.sin(this.rotation)*this.baseWidth/2,h=this.x+Math.sin(this.rotation)*this.length,u=this.y-Math.cos(this.rotation)*this.length;this.sk.noStroke(),this.sk.fill(this.color),this.sk.triangle(a,r,n,l,h,u),this.rotation=(this.rotation+i)%(2*Math.PI),this.playIfNextBeatHit()}playIfNextBeatHit(){for(var t=0;t<this.wheels.length;t++){let e=this.wheels[t];for(var s=0;s<e.beats.length;s++){let t=e.beats[s];this.isBeatHit(t)?(t.play(),t.disable()):t.enable()}}}isBeatHit(t){return Math.abs(this.rotation-t.radians)<.1}backToZero(){this.rotation=0}stop(){this.draw=()=>{}}start(){this.rotation=1.96*Math.PI,this.draw=this.update}continue(){this.draw=this.update}}}.apply(s,i))||(t.exports=a)},function(t,s,e){var i,a;i=[e(20)],void 0===(a=function(t){class s{constructor(t,s){this.name=t,this.src=s,this.sound=null}play(){"nullBeat"!=this.name&&this.sound.play()}currentTime(){return this.sound.currentTime()}duration(){return this.sound.duration()}stop(){"nullBeat"!=this.name&&this.sound.stop()}loadSound(t){"nullBeat"!=this.name&&(this.sound=t.loadSound(this.src))}}return class{constructor(e){this.sk=e,this.sounds=[];for(var i=0;i<t.length;i++){let e=new s(t[i].name,t[i].src);this.sounds.push(e)}}setup(){}preload(){for(var t=0;t<this.sounds.length;t++)this.sounds[t].loadSound(this.sk)}getNextSound(s=null){if(!s)return this.sounds[0];let e=this.sounds.findIndex(t=>t.name==s);return e=(e+1)%t.length,this.sounds[e].stop(),this.sounds[e]}getSoundByName(t){let s=this.sounds.findIndex(s=>s.name==t);return this.sounds[s]}}}.apply(s,i))||(t.exports=a)}]]);